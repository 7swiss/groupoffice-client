<h1><code ng:non-bindable="">MultiSelectList</code>
<div><span class="hint">service in module <code ng:non-bindable="">intermesh</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="intermesh-multiselectlist-page intermesh-multiselectlist-multiselectlist-page"><p>A service to support a model attribute where you can add multiple items to.</p>
</div></div>
<h2 id="usage">Usage</h2>
<div class="usage"><pre class="prettyprint linenums">MultiSelectList(selectedStore, availableStore, modalTemplateUrl, model, attributeName);</pre>
<h4 id="usage_parameters">Parameters</h4><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>selectedStore</td><td><a href="" class="label type-hint type-hint-store">Store</a></td><td><div class="intermesh-multiselectlist-page intermesh-multiselectlist-multiselectlist-page"><p>The store that holds the already selected items</p>
</div></td></tr><tr><td>availableStore</td><td><a href="" class="label type-hint type-hint-store">Store</a></td><td><div class="intermesh-multiselectlist-page intermesh-multiselectlist-multiselectlist-page"><p>The store that holds the items that can be selected</p>
</div></td></tr><tr><td>modalTemplateUrl</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="intermesh-multiselectlist-page intermesh-multiselectlist-multiselectlist-page"><p>The URL for the template for selecting items.</p>
</div></td></tr><tr><td>model</td><td><a href="" class="label type-hint type-hint-model">Model</a></td><td><div class="intermesh-multiselectlist-page intermesh-multiselectlist-multiselectlist-page"><p>The model where the attribute must be set.</p>
</div></td></tr><tr><td>attributeName</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="intermesh-multiselectlist-page intermesh-multiselectlist-multiselectlist-page"><p>The model attribute name</p>
</div></td></tr></tbody></table></div>
<h2 id="example">Example</h2>
<div class="example"><div class="intermesh-multiselectlist-page intermesh-multiselectlist-multiselectlist-page"><h4 id="example_source">Source</h4>
<div source-edit="MultiSelectListModule" source-edit-deps="angular.js script.js" source-edit-html="index.html-8 modal.html" source-edit-css="" source-edit-js="script.js-9" source-edit-json="" source-edit-unit="" source-edit-scenario=""></div>
<div class="tabbable"><div class="tab-pane" title="index.html">
<pre class="prettyprint linenums" ng-set-text="index.html-8" ng-html-wrap-loaded="MultiSelectListModule angular.js script.js"></pre>
<script type="text/ng-template" id="index.html-8">
	<div ng-controller="MultiSelectListController">

		<div class="go-toolbar">
			<ul class="go-right-toolbar">
				<li>
					<a class="go-icon-buttton" ng-click="multiSelectList.selectRecords()">
						Add
					</a>
				</li>
				<li>
					<a class="go-icon-buttton" ng-click="multiSelectList.deleteRecords()">
						Delete
					</a>
				</li>
			</ul>
		</div>


		<ul class="list-group">
			<li class="list-group-item" ng-repeat="model in multiSelectList.selectedStore.items" im-infinite-use-window="true">
				<label><input type="checkbox" ng-model="model.checked" ng-show="multiSelectList.deleteEnabled"> {{model.attributes.name}}</label>
			</li>
		</ul>


	</div>
</script>
</div>
<div class="tab-pane" title="modal.html">
<pre class="prettyprint linenums" ng-set-text="modal.html"></pre>
<script type="text/ng-template" id="modal.html">
	<div class="modal-header">
		<h5 class="modal-title" id="example_source_{{"select-roles"|-t}}">{{"Select roles"| t}}</h5>
	</div>
	<div class="modal-body">

		<div style="height:300px;overflow:auto" class="list-group" im-infinite-scroll="multiSelectList.availableStore.nextPage()" im-infinite-scroll-disabled="!multiSelectList.availableStore.shouldLoad()">

			<ul class="list-group">
				<li class="list-group-item" ng-repeat="model in multiSelectList.availableStore.items">
					<label><input type="checkbox" ng-model="model.checked"> {{model.attributes.name}}</label>
				</li>
			</ul>
		</div>

	</div>
	<div class="modal-footer">
		<button class="btn btn-primary" ng-click="ok()">OK</button>
		<button class="btn btn-warning" ng-click="cancel()">Cancel</button>
	</div>
</script>
</div>
<div class="tab-pane" title="script.js">
<pre class="prettyprint linenums" ng-set-text="script.js-9"></pre>
<script type="text/ng-template" id="script.js-9">
	angular.module('MultiSelectListModule', ["intermesh.MultiSelectList"])
	 .controller('MultiSelectListController', ['$scope', 'Model','Store','MultiSelectList', function($scope, Model, Store, MultiSelectList) {
		$scope.user = new Model('user', 'intermesh/auth/user');


		var selectedStore = new Store('intermesh/auth/user/roles',
											{
												userId: 1
											});
		//override just for demo.
		selectedStore.load = function(){
			if(selectedStore.items.length==0)
			selectedStore.items = [{attributes: {id:1, name:'Role 1'}}, {attributes: {id:2, name:'Role 2'}}];
		}

		//fake items
		selectedStore.items = [{attributes: {id:1, name:'Role 1'}}, {attributes: {id:2, name:'Role 2'}}];

		availableStore = new Store('intermesh/auth/user/availableRoles',
											{
												userId: 1
											});
		//override just for demo.
		availableStore.load = function(){

			if(availableStore.items.length==0)
			availableStore.items = [{attributes: {id:3, name:'Role 3'}}, {attributes: {id:4, name:'Role 4'}}];
		}



		$scope.multiSelectList = new MultiSelectList(
							selectedStore,
							availableStore,
							'modal.html',
							$scope.user,
							'roles'
							);
	}]);
</script>
</div>
</div><h4 id="example_demo">Demo</h4>
<div class="well doc-example-live animate-container" ng-embed-app="MultiSelectListModule" ng-set-html="index.html-8" ng-eval-javascript="script.js-9"></div>
</div></div>
</div>
